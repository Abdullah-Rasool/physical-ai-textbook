# Implementation Plan: VLA & Capstone Modules

**Branch**: `003-vla-capstone-modules` | **Date**: 2026-01-04 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/003-vla-capstone-modules/spec.md`

---

## Summary

Complete the Physical AI & Humanoid Robotics textbook conceptually by adding **Module 5: Vision-Language-Action (VLA) Integration** and **Module 6: Capstone - End-to-End Humanoid AI Architecture**. These modules provide the intelligence layer (VLA) and system synthesis narrative (Capstone) that enable readers to understand the complete perception ‚Üí language ‚Üí action loop and how all prior modules connect into a cohesive humanoid AI system.

**Approach**: Content-first, research-concurrent writing using established module structure from Modules 1-4. Text-described architecture diagrams, illustrative pseudocode, and cross-module integration without production code or hands-on tutorials.

---

## Technical Context

**Content Format**: Markdown (Docusaurus 3.x compatible)
**Framework**: Docusaurus 3.x, React 18.x (bundled)
**Platform**: Node.js 18+, GitHub Pages
**Testing**: Manual review, conceptual validation, link checking
**Project Type**: Documentation/Static site (no code artifacts)
**Performance Goals**: 30-40 minute reading time per module
**Constraints**: No production code, no interactive features, text-described diagrams only
**Scale/Scope**: 2 modules, ~11 section files total, ~20,000 words estimated

---

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Requirement | Status |
|-----------|-------------|--------|
| **I. Technical Accuracy** | Content must be conceptually accurate and verified | ‚úÖ PASS - Research-concurrent approach ensures verification from authoritative sources (papers, official docs) |
| **II. Clarity for Technical Audience** | Written for CS/engineering background | ‚úÖ PASS - Building on established style from Modules 1-4 |
| **III. Spec-Driven Development** | All development guided by written specs | ‚úÖ PASS - Spec created first, plan follows spec requirements |
| **IV. Reproducibility** | Project buildable from repo alone | ‚úÖ PASS - Markdown content, no external dependencies |
| **Content Standards - Originality** | All content original or attributed | ‚úÖ PASS - Will use APA citations for external sources |
| **Content Standards - Human Review** | AI content reviewed by humans | ‚úÖ PASS - Human review required before publication |
| **AI Usage Guidelines** | AI as reasoning assistant, not copy-paste | ‚úÖ PASS - Human-verified, research-backed content creation |

**Gate Result**: PASS - No violations. Proceed to Phase 0.

---

## Project Structure

### Documentation (this feature)

```text
specs/003-vla-capstone-modules/
‚îú‚îÄ‚îÄ plan.md              # This file
‚îú‚îÄ‚îÄ research.md          # Phase 0 output - VLA and Capstone research
‚îú‚îÄ‚îÄ data-model.md        # Phase 1 output - Content architecture
‚îú‚îÄ‚îÄ quickstart.md        # Phase 1 output - Writing guidelines
‚îî‚îÄ‚îÄ tasks.md             # Phase 2 output (generated by /sp.tasks)
```

### Source Code (repository root)

```text
docs/
‚îú‚îÄ‚îÄ 05-vla/
‚îÇ   ‚îú‚îÄ‚îÄ index.md              # Module overview, objectives, prerequisites
‚îÇ   ‚îú‚îÄ‚îÄ 01-vla-fundamentals.md    # Perception ‚Üí Language ‚Üí Action loop
‚îÇ   ‚îú‚îÄ‚îÄ 02-multimodal-perception.md   # Vision encoders, multimodal fusion
‚îÇ   ‚îú‚îÄ‚îÄ 03-language-grounding.md      # Language understanding for action
‚îÇ   ‚îú‚îÄ‚îÄ 04-action-generation.md       # Action tokenization, output representations
‚îÇ   ‚îú‚îÄ‚îÄ 05-architectures.md           # End-to-end vs modular, RT-2, OpenVLA patterns
‚îÇ   ‚îî‚îÄ‚îÄ 06-integration.md             # VLA ‚Üî ROS 2 ‚Üî Isaac connections
‚îî‚îÄ‚îÄ 06-capstone/
    ‚îú‚îÄ‚îÄ index.md              # System overview, learning objectives
    ‚îú‚îÄ‚îÄ 01-system-overview.md     # Full humanoid AI stack diagram
    ‚îú‚îÄ‚îÄ 02-module-connections.md  # How Modules 1-5 connect
    ‚îú‚îÄ‚îÄ 03-reference-architecture.md  # Complete data flow diagram
    ‚îú‚îÄ‚îÄ 04-system-concerns.md     # Real-time, safety, modularity
    ‚îî‚îÄ‚îÄ 05-synthesis.md           # "Putting it all together" narrative
```

**Structure Decision**: Content-only addition to existing Docusaurus docs/ structure. No code directories. Files follow naming pattern established by Modules 1-4.

---

## Complexity Tracking

> No violations to justify. All approaches align with constitution principles.

---

## Implementation Phases

### Phase 0: Research & Concept Grounding

**Objective**: Establish authoritative foundation for VLA and Capstone content.

#### Research Tasks

| Topic | Research Focus | Sources |
|-------|---------------|---------|
| VLA Fundamentals | Perception ‚Üí Language ‚Üí Action loop definition | RT-2, PaLM-E, OpenVLA papers |
| Multimodal Perception | Vision encoders, cross-modal fusion | ViT, CLIP, Flamingo architectures |
| Action Representation | Action tokenization strategies | RT-1, RT-2 action spaces |
| VLA Architectures | End-to-end vs modular tradeoffs | Academic surveys, Google/OpenAI research |
| ROS 2 Integration Patterns | Action servers, control interfaces | ROS 2 documentation, Isaac ROS |
| System Integration | Full-stack humanoid architecture | NVIDIA Isaac docs, Boston Dynamics papers |

**Output**: `research.md` with consolidated findings

---

### Phase 1: Content Architecture & Design

**Objective**: Define section structure, learning flow, and diagram specifications.

#### Module 5: VLA Content Architecture

| Section | Learning Objectives | Key Diagrams | Cross-References |
|---------|---------------------|--------------|------------------|
| index.md | Module overview | VLA loop overview | Modules 1-4 |
| 01-vla-fundamentals.md | Explain perception‚Üílanguage‚Üíaction | VLA pipeline diagram | Module 1 (perception-action) |
| 02-multimodal-perception.md | Vision encoder + language fusion | Multimodal architecture | Module 4 (Isaac perception) |
| 03-language-grounding.md | Language ‚Üí robot understanding | Grounding diagram | - |
| 04-action-generation.md | Action tokenization & output | Action space diagram | Module 2 (ROS 2 actions) |
| 05-architectures.md | Compare VLA approaches | RT-2 vs modular comparison | - |
| 06-integration.md | VLA ‚Üî ROS 2 ‚Üî Isaac | Integration architecture | Modules 2, 3, 4 |

#### Module 6: Capstone Content Architecture

| Section | Learning Objectives | Key Diagrams | Cross-References |
|---------|---------------------|--------------|------------------|
| index.md | System overview | Full stack overview | All modules |
| 01-system-overview.md | End-to-end stack | Sensors ‚Üí Actuators flow | All modules |
| 02-module-connections.md | Module integration | Connection map | Modules 1-5 |
| 03-reference-architecture.md | Complete data flow | Detailed architecture | All modules |
| 04-system-concerns.md | Real-time, safety | Concern layers | Module 2 (ROS 2), Module 4 (Isaac) |
| 05-synthesis.md | Putting it together | Task walkthrough | All modules |

**Output**: `data-model.md` (content architecture), `quickstart.md` (writing guidelines)

---

### Phase 2: Content Writing

**Objective**: Write complete module content following established patterns.

#### Writing Order (Dependency-aware)

1. **Module 5 index.md** - Sets VLA context
2. **Module 5 Sections 01-06** - Sequential VLA content
3. **Module 6 index.md** - Sets Capstone context (requires Module 5)
4. **Module 6 Sections 01-05** - Sequential Capstone content
5. **intro.md update** - Reflect Iteration 3 completion

#### Per-Section Checklist

- [ ] Learning objectives (3-5 bullet points)
- [ ] Prerequisites stated
- [ ] Key concepts defined
- [ ] Text-described diagram(s) included
- [ ] Cross-references to prior modules
- [ ] Connection to next section
- [ ] Estimated reading time
- [ ] Illustrative pseudocode (where applicable)

---

### Phase 3: Integration & Validation

**Objective**: Ensure textbook coherence and quality gates.

#### Validation Checklist

| Check | Criteria | Method |
|-------|----------|--------|
| Terminology consistency | Same terms across all modules | Manual review |
| Conceptual completeness | No unexplained abstractions | Reader walkthrough |
| Cross-reference validity | All links resolve | Docusaurus build test |
| Reading time | 30-40 min per module | Word count estimation |
| Diagram clarity | Diagrams understandable in text | Human review |
| FR alignment | All FR-001 through FR-029 satisfied | Checklist verification |

#### Integration Tasks

- [ ] Update `sidebars.js` for new modules
- [ ] Update `docs/intro.md` to reflect Iteration 3 completion
- [ ] Verify all internal links work
- [ ] Remove placeholder files
- [ ] Test Docusaurus build

---

### Phase 4: Post-Completion

**Objective**: Finalize and prepare for next iteration.

#### Deliverables

- [ ] VLA module complete (index + 6 sections)
- [ ] Capstone module complete (index + 5 sections)
- [ ] intro.md updated
- [ ] Sidebar configured
- [ ] All links validated
- [ ] PHR created for planning session

#### Explicitly Deferred (Iteration 4+)

- Frontend animations and UI polish
- Dark/light toggle styling
- Authentication and user accounts
- Urdu localization
- Deployment pipeline
- Interactive tutorials
- Quiz/assessment features

---

## Success Criteria

From spec requirements:

1. **SC-001**: Readers can explain perception ‚Üí language ‚Üí action loop
2. **SC-002**: Readers can describe how all 6 modules connect
3. **SC-003**: 80% of Module 5 sections include architecture diagrams
4. **SC-004**: All VLA patterns include tradeoff explanations
5. **SC-005**: Module 6 reference architecture understandable without code
6. **SC-006**: 30-40 minute reading time per module
7. **SC-007**: At least 3 cross-references per section
8. **SC-008**: Readers feel "ready to learn implementation"

---

## Architectural Decisions

| Decision | Choice | Rationale | Alternatives Considered |
|----------|--------|-----------|------------------------|
| VLA as intelligence layer | Present VLA as the "brain" connecting perception to action | Reflects current SOTA in robotics AI; cleanly separates perception (Module 4) from decision-making | Could merge with Isaac module, but VLA concepts are distinct |
| Capstone as narrative, not code | Pure synthesis module without code | Keeps focus on conceptual understanding; code deferred to future iterations | Hands-on project approach, but violates Iteration 3 scope |
| Text-described diagrams | Use structured markdown to describe visual architectures | No image dependencies; consistent with existing modules | Actual images, but adds asset management complexity |
| Research-concurrent writing | Research while writing, not upfront phase | Faster iteration; research targeted to actual writing needs | Separate research sprint, but delays content creation |

üìã **Architectural decision detected**: VLA positioned as distinct intelligence layer between perception and control. Document reasoning and tradeoffs? Run `/sp.adr vla-intelligence-layer`

---

## Risk Mitigation

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| VLA field evolving rapidly | High | Medium | Focus on fundamental patterns, not specific models |
| Capstone scope creep | Medium | High | Strict scope to narrative synthesis, no implementation |
| Cross-module coherence | Medium | High | Explicit connection tables in every section |
| Reading time exceeds target | Low | Medium | Section word count limits (3000-4000 words) |

---

## Next Steps

1. ‚úÖ Plan created and validated
2. ‚è≥ Run `/sp.tasks` to generate task breakdown
3. ‚è≥ Execute Phase 0 research (during writing)
4. ‚è≥ Write Module 5 content
5. ‚è≥ Write Module 6 content
6. ‚è≥ Validate and integrate

---

**Plan Status**: Ready for /sp.tasks
